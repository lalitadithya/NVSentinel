# Copyright (c) 2025, NVIDIA CORPORATION.  All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

Global:
  Count:
    FunctionReturn: 0
    ReturnValue: 1
  
  DeviceOrder:
    - GPU-00000000-0000-0000-0000-000000000000
  
  DriverVersion:
    FunctionReturn: 0
    ReturnValue: '550.90.07'
  
  CudaDriverVersion:
    FunctionReturn: 0
    ReturnValue: 12040
  
  CudaDriverVersion_v2:
    FunctionReturn: 0
    ReturnValue: 12040
  
  NVMLVersion:
    FunctionReturn: 0
    ReturnValue: 12.550.90
  
  ExcludedDeviceCount:
    FunctionReturn: 0
    ReturnValue: 0
  
  ConfComputeState:
    FunctionReturn: 0
    ReturnValue:
      ccFeature: 0
      devMode: 0
      environment: 0

Device:
  GPU-00000000-0000-0000-0000-000000000000:
    Index:
      FunctionReturn: 0
      ReturnValue: 0
    
    Name:
      FunctionReturn: 0
      ReturnValue: 'Test GPU'
    
    UUID:
      FunctionReturn: 0
      ReturnValue: 'GPU-00000000-0000-0000-0000-000000000000'
    
    Serial:
      FunctionReturn: 0
      ReturnValue: '0000000000000'
    
    PciInfo:
      FunctionReturn: 0
      ReturnValue:
        bus: 0
        busId: '00000000:00:00.0'
        busIdLegacy: '0000:00:00.0'
        device: 0
        domain: 0
        pciDeviceId: 0x00000000
        pciSubSystemId: 0x00000000
    
    MemoryInfo:
      FunctionReturn: 0
      ReturnValue:
        free: 10737418240    # 10 GB
        total: 17179869184   # 16 GB
        used: 6442450944     # 6 GB
    
    PowerUsage:
      FunctionReturn: 0
      ReturnValue: 100000  # 100W
    
    Temperature:
      0:  # NVML_TEMPERATURE_GPU
        FunctionReturn: 0
        ReturnValue: 50
    
    UtilizationRates:
      FunctionReturn: 0
      ReturnValue:
        gpu: 30
        memory: 20
    
    EccMode:
      FunctionReturn: 0
      ReturnValue:
        current: 1   # Enabled
        pending: 1   # Enabled
    
    PersistenceMode:
      FunctionReturn: 0
      ReturnValue: 1  # Enabled
    
    MigMode:
      FunctionReturn: 0
      ReturnValue:
        currentMode: 0  # 0 = Disabled
        pendingMode: 0
    
    # NVLink Fields - Mark as not supported for simple test GPU
    # This tells the health check to skip NVLink monitoring
    FieldValues:
      FunctionReturn: 0
      ReturnValue:
        effective_ber:
          fieldId: 220
          scopeId: 0
          timestamp: 0
          latencyUsec: 0
          valueType: 3
          nvmlReturn: 3  # NVML_ERROR_NOT_SUPPORTED
          value: 0
        symbol_errors:
          fieldId: 221
          scopeId: 0
          timestamp: 0
          latencyUsec: 0
          valueType: 3
          nvmlReturn: 3  # NVML_ERROR_NOT_SUPPORTED
          value: 0

